# 可视化旅游推荐系统接口设计文档

## 用户服务

1. **用户登录**:

- `method`: `POST`

- `url`: `/user/login`

请求体:

```json
{
    "id": 0, // 登录阶段随便填写
    "username": "test_user1",
    "password": "123456",
    "gender": 0, // 默认值
    "city": ""   // ""
}
```

响应体:

```json
{
    "success": true,  // 响应是否成功
    "error": "", // 错误信息
    "data": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiJ0ZXN0X3VzZXIxIiwiaXNzIjoieHp3IiwiZXhwIjoxNzY2MzcwMzc5LCJuYmYiOjE3NjU3NjQ1NzksImlhdCI6MTc2NTc2NTU3OX0.QIx-pyJA5zcYees2pCEMFIQM5U5G7aUHDxXKMr2zzKM"  // jwt token
}
```

> `jwt token` 中的负载信息为用户 `id` 以及用户名称, 这一个部分应该保存在前端

2. 用户注册:

- `method`: `POST`

- `url`: `/user/register`

请求体:

```json
{
    "id": 0,
    "username": "test_user1",
    "password": "123456",
    "gender": 1,          // 男 -> 0, 女 -> 1
    "city": "湖北省武汉市"  // 随便填
}

```

响应体:

```json
{
    "success": true,  // 响应是否成功
    "error": "",     // 错误信息
    "data": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiJ0ZXN0X3VzZXIxIiwiaXNzIjoieHp3IiwiZXhwIjoxNzY2MzcwMzc5LCJuYmYiOjE3NjU3NjQ1NzksImlhdCI6MTc2NTc2NTU3OX0.QIx-pyJA5zcYees2pCEMFIQM5U5G7aUHDxXKMr2zzKM"  // jwt token
}
```

## 景点服务

> **后端总共有 1000 条景点数据**

1. 景点列表分页查询

- `method`: `POST`
- `url`: `/site/query/list`

请求体:

```json
{
    "pageIndex": 2, // 页码, 从 1 开始
    "pageSize": 10  // 每一页条目数量
}
```

响应体:

```json
{
    "success": true,
    "error": "",
    "data": {
        "data": [
            {
                // id 字段
                "id": 11,
                // 景点名称字段
                "name": "成都大熊猫繁育研究基地",
                // 景点评分字段
                "score": 4.5,
                // 景点热度字段
                "hogDegree": 9.4,
                // 景点图片列表, 使用 "," 分割
                // 前端封面仅仅展示一张图片(默认第一张即可)
                "images": "https://dimg04.c-ctrip.com/images/0105p12000f6scno87BC5_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/10020m000000dmr819B03_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/100e180000014g444D0D6_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0103k12000ajm699h3E17_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0105p12000f6scno87BC5_D_256_180.jpg,https://dimg04.c-ctrip.com/images/10020m000000dmr819B03_D_256_180.jpg,https://dimg04.c-ctrip.com/images/100e180000014g444D0D6_D_256_180.jpg,https://dimg04.c-ctrip.com/images/0103k12000ajm699h3E17_D_256_180.jpg",
                "address": "成都市成华区外北熊猫大道1375号",
                "siteIndex": 11
            },
            {
                "id": 12,
                "name": "蜈支洲岛",
                "score": 4.6,
                "hogDegree": 9.3,
                "images": "https://dimg04.c-ctrip.com/images/01006120008r0zknw4B04_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0104u120008r0zab77DDA_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0102c120008r0zb9w0482_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0103s120008r0zrzk2C48_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/01006120008r0zknw4B04_D_256_180.jpg,https://dimg04.c-ctrip.com/images/0104u120008r0zab77DDA_D_256_180.jpg,https://dimg04.c-ctrip.com/images/0102c120008r0zb9w0482_D_256_180.jpg,https://dimg04.c-ctrip.com/images/0103s120008r0zrzk2C48_D_256_180.jpg",
                "address": "三亚市海棠区海棠湾镇蜈支洲岛",
                "siteIndex": 12
            },
            {
                "id": 13,
                "name": "都江堰景区",
                "score": 4.7,
                "hogDegree": 9.2,
                "images": "https://dimg04.c-ctrip.com/images/100g0z000000nd29yD334_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0101712000izqoep2F0D3_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/100r0u000000j21g68966_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0103e12000mlpauwz3AEC_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/100g0z000000nd29yD334_D_256_180.jpg,https://dimg04.c-ctrip.com/images/0101712000izqoep2F0D3_D_256_180.jpg,https://dimg04.c-ctrip.com/images/100r0u000000j21g68966_D_256_180.jpg,https://dimg04.c-ctrip.com/images/0103e12000mlpauwz3AEC_D_256_180.jpg",
                "address": "成都市都江堰市公园路",
                "siteIndex": 13
            },
            {
                "id": 14,
                "name": "三亚亚特兰蒂斯水世界",
                "score": 4.9,
                "hogDegree": 9.2,
                "images": "https://dimg04.c-ctrip.com/images/1lo4w12000eoy7uz74218_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/1lo5312000eoy8b3yE9AE_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/1lo4o12000eoy8k7l86A4_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/350j170000012oqk121E7_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/1lo4w12000eoy7uz74218_D_256_180.jpg,https://dimg04.c-ctrip.com/images/1lo5312000eoy8b3yE9AE_D_256_180.jpg,https://dimg04.c-ctrip.com/images/1lo4o12000eoy8k7l86A4_D_256_180.jpg,https://dimg04.c-ctrip.com/images/350j170000012oqk121E7_D_256_180.jpg",
                "address": "海南省三亚市海棠区海棠北路与风塘路交叉路口往东约200米",
                "siteIndex": 14
            },
            {
                "id": 15,
                "name": "长隆野生动物世界",
                "score": 4.8,
                "hogDegree": 9.2,
                "images": "https://dimg04.c-ctrip.com/images/1lo4y12000cqdxzonA673_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/1lo1a12000cqdzi7w63A3_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/1lo2812000cqdxznk7AE3_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/100b1f000001gsobq9CAE_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/1lo4y12000cqdxzonA673_D_256_180.jpg,https://dimg04.c-ctrip.com/images/1lo1a12000cqdzi7w63A3_D_256_180.jpg,https://dimg04.c-ctrip.com/images/1lo2812000cqdxznk7AE3_D_256_180.jpg,https://dimg04.c-ctrip.com/images/100b1f000001gsobq9CAE_D_256_180.jpg",
                "address": "广东省广州市番禺区汉溪大道东299号",
                "siteIndex": 15
            },
            {
                "id": 16,
                "name": "广州长隆度假区",
                "score": 4.7,
                "hogDegree": 9.2,
                "images": "https://dimg04.c-ctrip.com/images/0102212000f6tvovl4925_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/350e1f000001g0k753C2D_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/350m1f000001g778yF71F_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/350d1f000001fwbqe2422_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0102212000f6tvovl4925_D_256_180.jpg,https://dimg04.c-ctrip.com/images/350e1f000001g0k753C2D_D_256_180.jpg,https://dimg04.c-ctrip.com/images/350m1f000001g778yF71F_D_256_180.jpg,https://dimg04.c-ctrip.com/images/350d1f000001fwbqe2422_D_256_180.jpg",
                "address": "广东省广州市番禺区汉溪大道东299号",
                "siteIndex": 16
            },
            {
                "id": 17,
                "name": "张家界国家森林公园",
                "score": 4.5,
                "hogDegree": 9.1,
                "images": "https://dimg04.c-ctrip.com/images/0103b1200086u7jcfBB44_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0106q12000f6turu2F806_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0106j120009h4cwiy9BD5_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/100m0m000000dp757A1E3_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0103b1200086u7jcfBB44_D_256_180.jpg,https://dimg04.c-ctrip.com/images/0106q12000f6turu2F806_D_256_180.jpg,https://dimg04.c-ctrip.com/images/0106j120009h4cwiy9BD5_D_256_180.jpg,https://dimg04.c-ctrip.com/images/100m0m000000dp757A1E3_D_256_180.jpg",
                "address": "张家界市武陵源区金鞭路279号",
                "siteIndex": 17
            },
            {
                "id": 18,
                "name": "涠洲岛",
                "score": 4.4,
                "hogDegree": 9.1,
                "images": "https://dimg04.c-ctrip.com/images/1lo3112000kqv718p447D_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/1lo5g12000dpzo5fj40E3_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/10080y000000m1f3e22AD_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/01020120004gdmn9m7016_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/1lo3112000kqv718p447D_D_256_180.jpg,https://dimg04.c-ctrip.com/images/1lo5g12000dpzo5fj40E3_D_256_180.jpg,https://dimg04.c-ctrip.com/images/10080y000000m1f3e22AD_D_256_180.jpg,https://dimg04.c-ctrip.com/images/01020120004gdmn9m7016_D_256_180.jpg",
                "address": "广西壮族自治区北海市海城区",
                "siteIndex": 18
            },
            {
                "id": 19,
                "name": "赛里木湖",
                "score": 4.7,
                "hogDegree": 9,
                "images": "https://dimg04.c-ctrip.com/images/0104112000a2cvs0dB260_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/100d0z000000mu3caD29E_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/1lo2412000bgsvdn91D56_W_640_10000.png,https://dimg04.c-ctrip.com/images/0105212000a2cvssuAE2B_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0104112000a2cvs0dB260_D_256_180.jpg,https://dimg04.c-ctrip.com/images/100d0z000000mu3caD29E_D_256_180.jpg,https://dimg04.c-ctrip.com/images/1lo2412000bgsvdn91D56.png,https://dimg04.c-ctrip.com/images/0105212000a2cvssuAE2B_D_256_180.jpg",
                "address": "新疆维吾尔自治区博尔塔拉蒙古自治州博乐市30国道旁",
                "siteIndex": 19
            },
            {
                "id": 20,
                "name": "三亚亚特兰蒂斯度假区",
                "score": 4.7,
                "hogDegree": 9,
                "images": "https://dimg04.c-ctrip.com/images/0100r12000f6tbgy71A1D_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0100f12000jmr3m3oECE6_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0100l12000jmr3jy197F7_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/350h1d000001eec2t20BA_W_640_10000.jpg,https://dimg04.c-ctrip.com/images/0100r12000f6tbgy71A1D_D_256_180.jpg,https://dimg04.c-ctrip.com/images/0100f12000jmr3m3oECE6_D_256_180.jpg,https://dimg04.c-ctrip.com/images/0100l12000jmr3jy197F7_D_256_180.jpg,https://dimg04.c-ctrip.com/images/350h1d000001eec2t20BA_D_256_180.jpg",
                "address": "海南三亚市海棠区海棠湾海棠北路36号",
                "siteIndex": 20
            }
        ],
        // 总共条目数量
        "total": 10
    }
}
```

